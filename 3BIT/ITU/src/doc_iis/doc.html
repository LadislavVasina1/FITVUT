
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Strict//EN"
    "http://www.w3.org/TR/xhtml1/DTD/xhtml1-strict.dtd">
<html>
<head>
    <meta http-equiv="content-type" content="text/html; charset=iso-8859-2"/>
    <title>Projekt IIS</title>
    <style type="text/css">
    	table { border-collapse: collapse; }
    	td, th { border: 1px solid black; padding: 0.3em 0.5em; text-align: left; }
    	dt { font-weight: bold; margin-top: 0.5em; }
    </style>
</head>
<body>

<!-- Zkontrolujte prosím nastavení kódování v hlavièce dokumentu 
     podle pou¾itého editoru -->

<h1>Chytré mìsto</h1> <!-- Nahradte názvem svého zadání -->

<dl>
	<dt>Autoøi</dt>
	<dd>Dominik Vágner <!-- Nahraïte skuteèným jménem a e-mailem autora a popisem èinnosti -->
	    <a href="mailto:xvagne10@stud.fit.vutbr.cz">xvagne10@stud.fit.vutbr.cz</a> -
		návrh DB, sestrojení api, login, registrace, domovská stránka, mapy, nasazení aplikace
	</dd>
	<dd>Ladislav Va¹ina <!-- Nahraïte skuteèným jménem a e-mailem autora a popisem èinnosti -->
	    <a href="mailto:xvasin11@stud.fit.vutbr.cz">xvasin11@stud.fit.vutbr.cz</a> -
		návrh DB, doplnìní api, administrátorské stránky (editace u¾ivatelù, vytváøení správce mìsta),
        stránky správce mìsta (vytváøení servisních po¾adavkù, vytváøení servisních technikù, správa tiketù), u¾ivatelský profil (úprava údajù, zmìna hesla)
	</dd>
  <dd>David Novák <!-- Nahraïte skuteèným jménem a e-mailem autora a popisem èinnosti -->
	    <a href="mailto:xnovak2r@stud.fit.vutbr.cz">xnovak2r@stud.fit.vutbr.cz</a> -
		návrh DB, doplnìní api, nahla¹ování závad, stránky servisního technika (doplòování servisních po¾adavkù)
	</dd>
	<dt>URL aplikace</dt>
	<dd><a href="https://smartcity-vut.herokuapp.com/">https://smartcity-vut.herokuapp.com/</a></dd>
</dl>

<h2>U¾ivatelé systému pro testování</h2>
<p>Uveïte prosím existující zástupce <strong>v¹ech rolí u¾ivatelù</strong>.</p>
<table>
<tr><th>Login</th><th>Heslo</th><th>Role</th></tr>
<tr><td>admin@sc.com</td><td>password</td><td>Administrátor</td></tr>
<tr><td>manager@sc.com</td><td>password</td><td>Manager</td></tr>
<tr><td>technician@sc.com</td><td>password</td><td>Servisní technik</td></tr>
<tr><td>resident@sc.com</td><td>password</td><td>Registrovaný u¾ivatel</td></tr>
</table>

<h3>Video</h3>
<a href="https://www.youtube.com/watch?v=h5_5KmbsLcA">https://www.youtube.com/watch?v=h5_5KmbsLcA</a>

<h2>Implementace</h2>
<h5>Pou¾ité techologie:</h5>
<p>
    Backend aplikace je vytvoøen v Python frameworku Flask.
    Pro frontend byly pou¾ity technologie/frameworky Javascript (jQuery), HTML, CSS, Jinja, Bootstrap.
    K zobrazení map se pou¾ilo veøejné neplacené API od <a href="https://api.mapy.cz/">mapy.cz</a>.
</p>
<h5>Popis adresáøe s kódem:</h5>
<ul>
    <li>smartcity</li>
        <ul>
            <li>static/ = Slo¾ka se statickými èástmi aplikace jako dedikované CSS, Javascript soubory a fotky.</li>
            <li>templates/ = Slo¾ka obsahující v¹echny HTML soubory, které hojnì vyu¾ívají ¹ablonovacího jazyku Jinja. V nich je také vlo¾ený Javascript zpracovávající jednotlivé formuláøe.</li>
            <li>views/ = Python implementace API, soubory které definují routes a formuláøe pro ka¾dého mo¾ného u¾ivatele.</li>
            <li>app.py = Inicializace aplikace, naètení promìnných prostøedí, prvotní naplnìní datábaze, propojení funkcionality.</li>
            <li>extensions.py = Inicializace nìkterých z knihoven.</li>
            <li>models.py = Definice modelu aplikace. Namapování databáze na Python objekty pomocí knihovny SQLAlchemy a metody pro dané tøídy.</li>
        </ul>
</ul>


<h3>Databáze</h3>
<img src="https://i.imgur.com/OrEmDXi.png" alt="Databazove schema. Obrazek je nahran zde-> https://i.imgur.com/OrEmDXi.png" >

<h2>Instalace</h2>
Nejdøíve je nutné si lokálnì nainstalovat MySQL server a vytvoøit databázi s názvem <i>smartcity</i>.<br>
Následnì je nutné vytvoøit(zmìnit) soubor <i>.env</i>.<br> V nìm je nutné zmìnit promìnnou <i>DATABASE_URI</i>, aby odpovídala lokálnímu nastavení MySQL serveru.
Dále provedeme následující pøíkazy:
<ul>
<li>virtualenv venv</li>
<li>source venv/bin/activate</li>
<li>pip install -r requirements.txt</li>
<li>flask run --host=0.0.0.0</li>
</ul>
Stránka by následnì mìla lokálnì bì¾et na adrese <a href="http://127.0.0.1:5000/"><i>http://127.0.0.1:5000/</i></a> <br>(kdyby ne, viz výstup terminálu po spu¹tìní pøíkazu <i>flask run --host=0.0.0.0 </i>)

<h2>Známé problémy</h2>
<p>®ÁDNÉ</p>
<p>V¹e co je uvedeno v zadání bylo implementováno.</p>

</body>
</html>
